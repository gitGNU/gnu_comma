-- MUST-FAIL:  Ensure identical exports due to instantiation are treated as
-- ambiguous.

signature S end S;

domain D is S; end D;

generic
   abstract domain X is S; end X;
domain F with
   procedure Foo (x : X);
   procedure Foo (x : D);
add
   procedure Foo (x : X) is begin end Foo;
   procedure Foo (x : D) is begin end Foo;
end F;

domain Test add
   procedure Run (x : D) is
   begin
      F(D).Foo(x);
   end Run;
end Test;
